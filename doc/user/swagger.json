{"swagger":"2.0","info":{"version":"1.0.0","title":""},"host":"localhost:8080","basePath":"/RnsSystem/rest","schemes":["http"],"paths":{"":{"get":{"summary":"getRnsSystem","description":"reads main resource","operationId":"getRnsSystem","produces":["application/xml","application/json"],"parameters":[{"name":"admin","in":"query","description":"Used for make admin request","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK"}}}},"/connections":{"get":{"summary":"getConnections","description":"searches connections","operationId":"getConnections","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"}}}},"/connections/{id}":{"get":{"summary":"getConnection","description":"read single connection","operationId":"getConnection","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"404":{"description":"Not Found"}}}},"/places":{"get":{"summary":"getPlaces","description":"searches places","operationId":"getPlaces","produces":["application/xml","application/json"],"parameters":[{"name":"admin","in":"query","description":"Used for make admin request","required":false,"type":"integer","format":"int32"},{"name":"type","in":"query","description":"Parameter for choosing the place type","required":false,"type":"string"},{"name":"keyword","in":"query","description":"String for searching places with a keyword on placeID","required":false,"type":"string"},{"name":"placeID","in":"query","description":"Searching by placeID","required":false,"type":"string"}],"responses":{"200":{"description":"OK"},"401":{"description":"Not Authorized - Admin parameters required"},"404":{"description":"Not Found - No vehicles found"}}}},"/places/{id}":{"get":{"summary":"getPlace","description":"read single place","operationId":"getPlace","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"Searching by placeID","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"}}}},"/vehicles":{"get":{"summary":"getVehicles","description":"searches vehicles","operationId":"getVehicles","produces":["application/xml","application/json"],"parameters":[{"name":"admin","in":"query","description":"Used for make admin request","required":false,"type":"integer","format":"int32"},{"name":"type","in":"query","description":"Parameter for choosing the vehicle type","required":false,"type":"string"},{"name":"keyword","in":"query","description":"String for searching vehicles with a keyword on plate","required":false,"type":"string"},{"name":"state","in":"query","description":"State of the vehicle available in the system","required":false,"type":"string"},{"name":"entryTime","in":"query","description":"All the vehicle available entered after this time","required":false,"type":"string"},{"name":"position","in":"query","description":"Position of the vehicle","required":false,"type":"string"},{"name":"plateID","in":"query","description":"Searching by plate","required":false,"type":"string"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"404":{"description":"Not Found"}}},"post":{"summary":"createVehicle","description":"create a new vehicle","operationId":"createVehicle","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Create a Vehicle object to be added","required":false,"schema":{"$ref":"#/definitions/Vehicle"}}],"responses":{"201":{"description":"Created"},"410":{"description":"Entrance Refused"},"400":{"description":"Bad Request"},"406":{"description":"Unknown Place"},"409":{"description":"Not correct gateType"}}}},"/vehicles/{id}":{"get":{"summary":"getVehicle","description":"read single vehicle","operationId":"getVehicle","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"Searching by plate","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"404":{"description":"Not Found"}}},"put":{"summary":"updateVehicle","description":"update single vehicle","operationId":"updateVehicle","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"Searching by plate","required":true,"type":"string"},{"name":"state","in":"query","description":"State of the vehicle available in the system","required":false,"type":"string"},{"name":"move","in":"query","description":"New position of the move","required":false,"type":"string"}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"},"409":{"description":"Conflict - Already available in the system"}}},"delete":{"summary":"deleteVehicle","description":"delete vehicle","operationId":"deleteVehicle","parameters":[{"name":"id","in":"path","description":"Searching by plate","required":true,"type":"string"},{"name":"outGate","in":"query","description":"Gate ID for the exiting","required":false,"type":"string"}],"responses":{"200":{"description":"Deleted"},"410":{"description":"Entrance Refused"},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"406":{"description":"Unknown Place"},"409":{"description":"Not correct gateType"}}}}},"definitions":{"Vehicle":{"type":"object","required":["entryTime","from","fromNode","id","position","positionNode","self","state","to","toNode","type"],"properties":{"id":{"type":"string"},"self":{"type":"string"},"type":{"type":"string"},"state":{"type":"string"},"entryTime":{"type":"string","format":"date-time","xml":{"name":"entry_time"}},"position":{"type":"string"},"positionNode":{"type":"string"},"from":{"type":"string"},"fromNode":{"type":"string"},"to":{"type":"string"},"toNode":{"type":"string"},"shortPaths":{"type":"array","items":{"$ref":"#/definitions/ShortPaths"}}},"xml":{"name":"vehicle"}},"Connections":{"type":"object","properties":{"connection":{"type":"array","items":{"$ref":"#/definitions/Connection"}}},"xml":{"name":"connections"}},"SuggPath":{"type":"object","required":["relation"],"properties":{"relation":{"type":"array","items":{"type":"string"}}},"xml":{"name":"suggPath"}},"Connection":{"type":"object","required":["from","fromNode","self","to","toNode"],"properties":{"self":{"type":"string"},"from":{"type":"string"},"fromNode":{"type":"string"},"to":{"type":"string"},"toNode":{"type":"string"}},"xml":{"name":"connection"}},"RnsSystem":{"type":"object","required":["connectionsLink","places","placesLink","self","vehicles","vehiclesLink"],"properties":{"self":{"type":"string"},"placesLink":{"type":"string"},"vehiclesLink":{"type":"string"},"connectionsLink":{"type":"string"},"places":{"$ref":"#/definitions/Places"},"vehicles":{"$ref":"#/definitions/Vehicles"}},"xml":{"name":"rnsSystem"}},"Place":{"type":"object","required":["id","self"],"properties":{"id":{"type":"string"},"self":{"type":"string"},"capacity":{"type":"integer","format":"int32"},"gate":{"type":"string","enum":["IN","OUT","INOUT"]},"segment":{"$ref":"#/definitions/SegmentItem"},"parking":{"$ref":"#/definitions/ParkingItem"},"connections":{"type":"array","items":{"type":"string"}},"connectedBy":{"type":"array","items":{"type":"string"}}},"xml":{"name":"place"}},"SegmentItem":{"type":"object","required":["name","roadName"],"properties":{"name":{"type":"string"},"roadName":{"type":"string"}}},"ShortPaths":{"type":"object","properties":{"suggPath":{"type":"array","items":{"$ref":"#/definitions/SuggPath"}}}},"ParkingItem":{"type":"object","properties":{"services":{"type":"array","items":{"type":"string"}}}},"Places":{"type":"object","properties":{"place":{"type":"array","items":{"$ref":"#/definitions/Place"}}},"xml":{"name":"places"}},"Vehicles":{"type":"object","properties":{"vehicle":{"type":"array","items":{"$ref":"#/definitions/Vehicle"}}},"xml":{"name":"vehicles"}}}}